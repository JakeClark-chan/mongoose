"use strict";var e=require("react"),t=require("clsx"),a=require("../../../utils/money/kztAmount.js"),r=require("../../other/Condition/Condition.js"),l=require("../../other/LazyImage/LazyImage.js"),c=require("../../other/Skeleton/Skeleton.js"),i=require("../../other/Sticker/Sticker.js"),s=require("../../other/Typography/Typography.js"),m=require("../../icons/ShowcaseBox/ShowcaseBox.js"),n=require("../../icons/Digital/Digital.js"),o=require("../../icons/CirclePlus/CirclePlus.js"),u=require("../../icons/CircleMinus/CircleMinus.js"),d=require("../../icons/Percent/Percent.js"),N=require("../../buttons/Button/Button.js");function _(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var C=_(e),f=_(t);module.exports=({className:t,imgIcon:_,imgSrc:I="",imgLqip:x="images/productCardThumbnail.png",isCheckout:p,oldPrice:E=0,price:g=0,quantity:h=0,stickers:k=[],title:y="",isEsd:v=!1,isShowcase:b=!1,isOutOfStock:S=!1,deleteButtonText:q="",totalPrice:B=0,onDelete:T=(()=>!1),onDecrease:j=(()=>!1),onIncrease:A=(()=>!1),onBlur:P=(()=>!1),inStock:G=!0,isLoading:D=!1,isCountable:O=!0,isDeletable:w=!0,isDisabled:L,shouldRenderQuantity:z=!0,esdTitle:Q="Цифровой товар",showcaseTitle:W="Товар с витрины",isCascade:M=!1,cascadeTitle:F="На товар действует каскадная скидка",link:R,outOfStockTitle:H="Товара нет в наличии",totalOldPrice:J=0})=>{const K=J>B||J>Number(B),U=(null==k?void 0:k.length)>0,V=O&&G,X=J||h*E,Y=B||h*g,[Z,$]=e.useState(h);e.useEffect(()=>{$(h)},[h]);const ee=e.useMemo(()=>{const e=[];return M&&e.push({backgroundColor:"transparent",color:"var(--ui-green)",icon:C.default.createElement("div",{className:"CartItemNext__TopStickerIcoPercentWrapper"},C.default.createElement(d,{className:"CartItemNext__TopStickerIco",height:20,width:20})),text:F}),v&&e.push({backgroundColor:"transparent",color:"var(--ui-blue)",icon:C.default.createElement(n,{className:"CartItemNext__TopStickerIco",height:20,width:20}),text:Q}),b&&e.push({backgroundColor:"var(--gray-11)",color:"var(--ui-red)",icon:C.default.createElement(m,{className:"CartItemNext__TopStickerIco --marginLeft",fill:"var(--ui-red)",height:16,width:16}),text:W}),S&&e.push({backgroundColor:"var(--brand-yellow)",color:"var(--gray-90)",text:H}),e},[M,v,b,S,F,Q,H,W]);return C.default.createElement(c,{className:f.default("CartItemNext__Skeleton",!D&&"--off"),isLoading:D},C.default.createElement("div",{className:f.default("CartItemNext",t,{"--isCheckout":p,"--isCountable":V,"--noDeletable":!w,"--noQuantity":!z})},C.default.createElement("div",{className:"CartItemNext__GridWrapper"},C.default.createElement("div",{className:"CartItemNext__DeleteGrid CartItemNext__GridCell"},C.default.createElement(N,{className:"CartItemNext__DeleteButton",disabled:L,onClick:T,size:"S",text:q,theme:"Tertiary"})),C.default.createElement("div",{className:"CartItemNext__ImgGrid CartItemNext__GridCell"},C.default.createElement("div",{className:"CartItemNext__ImgWrapper"},C.default.createElement(c,{backgroundColor:"#F7F7F7",className:f.default("CartItemNext__Skeleton",!D&&"--off"),isLoading:D},C.default.createElement(r,{match:Boolean(R)},C.default.createElement("a",Object.assign({},R),_?e.createElement(_,{className:"CartItemNext__Img"}):C.default.createElement(l,{alt:y,className:"CartItemNext__Img",lqip:x,src:I}))),C.default.createElement(r,{match:!R},_?e.createElement(_,{className:"CartItemNext__Img"}):C.default.createElement(l,{alt:y,className:"CartItemNext__Img",lqip:x,src:I}))))),C.default.createElement("div",{className:"CartItemNext__InfoGrid CartItemNext__GridCell"},C.default.createElement("div",{className:"CartItemNext__InfoWrapper"},C.default.createElement("div",{className:"CartItemNext__TopStickerWrapper"},C.default.createElement("div",{className:"CartItemNext__TopSticker"},null==ee?void 0:ee.map(e=>C.default.createElement(i,Object.assign({className:"CartItemNext__Sticker --paddingLeftOff"},e))))),C.default.createElement("div",{className:"CartItemNext__TitleAndQuantity"},C.default.createElement(s,{className:"CartItemNext__Title",text:y,type:V?"Body1B":"Body2B"})),Z>1&&C.default.createElement("div",{className:"CartItemNext__Prices"},C.default.createElement(s,{className:"CartItemNext__Price",text:a.kztAmount(g,"₸/шт"),type:V?"Subtitle2":"Body1B"})),U&&C.default.createElement("div",{className:"CartItemNext__Stickers"},null==k?void 0:k.slice(0,3).map((e,t)=>C.default.createElement(i,Object.assign({key:"CartItemNext__Sticker-"+t,className:"CartItemNext__Sticker"},e)))))),C.default.createElement("div",{className:"CartItemNext__PriceGrid CartItemNext__GridCell"},C.default.createElement(s,{className:f.default("CartItemNext__Total",K&&"--highlighted"),text:a.kztAmount(Number(Y)),type:"Body1B"}),K&&C.default.createElement(s,{className:"CartItemNext__OldPriceTotalAmount",text:a.kztAmount(Number(X)),type:V?"Caption1None":"Caption2None"})),z&&C.default.createElement("div",{className:"CartItemNext__CountGrid CartItemNext__GridCell"},C.default.createElement("div",{className:"CartItemNext__ActionWrapper"},C.default.createElement("div",{className:"CartItemNext__Action --offAction --increase"},C.default.createElement("button",{disabled:L,onClick:A},C.default.createElement(o,{type:"fill"}))),C.default.createElement("div",{className:"CartItemNext__Action --quantity"},V?C.default.createElement("input",{autoComplete:"off",className:"CartItemNext__Action-QtySelector",disabled:L,id:"QtySelector",onBlur:P,onChange:e=>{$(Math.abs(e.target.value))},type:"number",value:Z}):C.default.createElement(s,{className:"CartItemNext__Quantity",text:String(h),type:p?"Subtitle2":"Body2B"})),C.default.createElement("div",{className:"CartItemNext__Action --decrease"},C.default.createElement("button",{disabled:h<1||L,onClick:j},C.default.createElement(u,{type:"fill"}))))))))};
//# sourceMappingURL=CartItemNext.js.map
