"use strict";var e=require("react"),t=require("./parts/Slide.js"),r=require("./constants.js"),n=require("./utils.js"),u=require("../../../utils/debounce.js"),c=require("../../../utils/changeElementStyle.js");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(e);module.exports=({currentPhoto:a,setCurrentPhoto:o,onSlideComplete:i=(()=>{}),onSlideStart:l=(()=>{}),activeIndex:h=null,threshHold:d=25,transition:m=.4,images:f,images:{length:g},scaleOnDrag:E=!1,onImageTouchStart:S=(()=>{}),onImageMoveEnd:v=(()=>{}),width:p=200,height:M=200})=>{const[R,q]=e.useState({width:p,height:M}),w=e.useRef(!1),y=e.useRef(0),b=e.useRef(0),j=e.useRef(0),A=e.useRef(a),D=e.useRef(null),x=e.useRef(null),C=e.useRef(0),L=()=>{c.changeElementStyle(D.current,{transform:`translateX(${b.current}px)`})},N=(e=R.width)=>{b.current=A.current*-e,j.current=b.current,L()},O=()=>{c.changeElementStyle(D.current,{transition:`transform ${m}s ease-out`})};e.useEffect(()=>{a!==A.current&&(O(),A.current=a,N())},[h,a]),e.useEffect(()=>{D.current&&(q(n.getElementSizes(D.current)),N(n.getElementSizes(D.current).width))},[]);const T=()=>{L(),w.current&&requestAnimationFrame(T)},X=e=>{if(w.current){const t=e.touches[0].clientX;b.current=j.current+t-y.current}},_=()=>{O(),cancelAnimationFrame(C.current),w.current=!1;const e=b.current-j.current;v();e<-d&&A.current<g-1&&(A.current+=1);e>d&&A.current>0&&(A.current-=1),O(),N(),c.changeElementStyle(D.current,{cursor:"grab"}),i(A.current),o(A.current)},F=u.debounce(e=>{const{left:t,width:r}=x.current.getBoundingClientRect(),n=Math.trunc((e-t)/r*100),u=Math.floor(n/(100/g));a!==u&&o(u)},r.MOUSE_HANDLER_DELAY),I=e=>{e.preventDefault(),e.stopPropagation()},P=e=>{S(),O(),y.current=e.touches[0].clientX,w.current=!0,C.current=requestAnimationFrame(T),c.changeElementStyle(D.current,{cursor:"grabbing"}),l(a)},z=()=>{w.current&&_()};return s.default.createElement("div",{ref:x,className:"SliderWrapper",onMouseLeave:()=>{o(0)}},s.default.createElement("div",{ref:D,className:"Slider"},f.map((e,r)=>s.default.createElement("div",{key:r,className:"Slide__Outer",onContextMenu:I,onMouseLeave:z,onMouseMove:e=>{F(e.clientX)},onTouchEnd:_,onTouchMove:X,onTouchStart:P},s.default.createElement(t,{child:e,height:R.height,scaleOnDrag:E,width:R.width})))))};
//# sourceMappingURL=Slider.js.map
