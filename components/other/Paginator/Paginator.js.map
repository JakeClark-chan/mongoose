{"version":3,"file":"Paginator.js","sources":["../../../../src/components/other/Paginator/Paginator.tsx"],"sourcesContent":["import React, { FC, memo, useMemo } from 'react'\nimport clsx from 'clsx'\nimport { PaginatorArrowLeft } from '../../icons/PaginatorArrowLeft'\nimport { PaginatorArrowRight } from '../../icons/PaginatorArrowRight'\nimport { PaginatorItem } from './parts/PaginatorItem'\nimport { PaginatorProps } from './types'\nimport { Typography } from '../Typography'\nimport './Paginator.scss'\nimport { Condition } from '../Condition'\n\nconst Paginator: FC<PaginatorProps> = ({\n  totalPages,\n  maxPages = 5,\n  linkComponent: LinkComponent,\n  currentPage = 1,\n  className,\n  quantity = 0, // Use it to send the number of items\n  text = '', // Use it to send a suitable one from (\"товар/товара/товаров\") of items\n}) => {\n  const pageList = useMemo(() => {\n    const pageList: number[] = []\n    let startPage: number\n    let endPage: number\n\n    const maxPagesBeforeCurrentPage = Math.floor(maxPages / 2)\n    const maxPagesAfterCurrentPage = Math.ceil(maxPages / 2) - 1\n    const isPageNearTheEnd =\n      currentPage + maxPagesAfterCurrentPage >= totalPages\n\n    if (currentPage <= maxPagesBeforeCurrentPage) {\n      startPage = 1\n      endPage = maxPages\n    } else if (isPageNearTheEnd) {\n      startPage = totalPages - maxPages + 1\n      endPage = totalPages\n    } else {\n      // Текущая страница в середине\n      startPage = currentPage - maxPagesBeforeCurrentPage\n      endPage = currentPage + maxPagesAfterCurrentPage\n    }\n\n    for (let i = startPage; i <= endPage; i++) {\n      pageList.push(i)\n    }\n\n    return pageList\n  }, [totalPages, maxPages, currentPage])\n\n  const shouldAdditionalControllersOnLeft =\n    totalPages > maxPages && currentPage > 1\n  const shouldAdditionalControllersOnRight =\n    totalPages > maxPages && currentPage < totalPages\n\n  return (\n    <div className={clsx('Paginator', className)}>\n      <div className='Paginator__List'>\n        {shouldAdditionalControllersOnLeft && (\n          <LinkComponent page={currentPage - 1}>\n            <div className='Paginator__List-ArrowIcon-Left'>\n              <PaginatorItem icon={<PaginatorArrowLeft />} />\n            </div>\n          </LinkComponent>\n        )}\n\n        {pageList.map((page) => {\n          return (\n            <div key={page}>\n              <LinkComponent page={page}>\n                <PaginatorItem\n                  isActive={currentPage === page}\n                  onClick={(): void => {}}\n                  text={String(page)}\n                />\n              </LinkComponent>\n            </div>\n          )\n        })}\n        {shouldAdditionalControllersOnRight && (\n          <LinkComponent page={currentPage + 1}>\n            <div className='Paginator__List-ArrowIcon-Right'>\n              <PaginatorItem icon={<PaginatorArrowRight />} />\n            </div>\n          </LinkComponent>\n        )}\n      </div>\n      <Condition match={quantity !== 0 && text !== ''}>\n        <div className='Paginator__Quantity'>\n          <Typography className='Paginator__Quantity-text'>\n            {quantity} {text}\n          </Typography>\n        </div>\n      </Condition>\n    </div>\n  )\n}\n\nexport default memo(Paginator)\n"],"names":["memo","totalPages","maxPages","linkComponent","LinkComponent","currentPage","className","quantity","text","pageList","useMemo","startPage","endPage","maxPagesBeforeCurrentPage","Math","floor","maxPagesAfterCurrentPage","ceil","i","push","shouldAdditionalControllersOnLeft","shouldAdditionalControllersOnRight","React","clsx","page","PaginatorItem","icon","PaginatorArrowLeft","map","key","isActive","onClick","String","PaginatorArrowRight","Condition","match","Typography"],"mappings":"0ZAgGA,MAAeA,OAtFuB,EACpCC,WAAAA,EACAC,SAAAA,EAAW,EACXC,cAAeC,EACfC,YAAAA,EAAc,EACdC,UAAAA,EACAC,SAAAA,EAAW,EACXC,KAAAA,EAAO,OAEP,MAAMC,EAAWC,UAAQ,KACvB,MAAMD,EAAqB,GAC3B,IAAIE,EACAC,EAEJ,MAAMC,EAA4BC,KAAKC,MAAMb,EAAW,GAClDc,EAA2BF,KAAKG,KAAKf,EAAW,GAAK,EAIvDG,GAAeQ,GACjBF,EAAY,EACZC,EAAUV,GAJVG,EAAcW,GAA4Bf,GAM1CU,EAAYV,EAAaC,EAAW,EACpCU,EAAUX,IAGVU,EAAYN,EAAcQ,EAC1BD,EAAUP,EAAcW,GAG1B,IAAK,IAAIE,EAAIP,EAAWO,GAAKN,EAASM,IACpCT,EAASU,KAAKD,GAGhB,OAAOT,GACN,CAACR,EAAYC,EAAUG,IAEpBe,EACJnB,EAAaC,GAAYG,EAAc,EACnCgB,EACJpB,EAAaC,GAAYG,EAAcJ,EAEzC,OACEqB,+BAAKhB,UAAWiB,UAAK,YAAajB,IAChCgB,+BAAKhB,UAAU,mBACZc,GACCE,wBAAClB,GAAcoB,KAAMnB,EAAc,GACjCiB,+BAAKhB,UAAU,kCACbgB,wBAACG,GAAcC,KAAMJ,wBAACK,YAK3BlB,EAASmB,IAAKJ,GAEXF,+BAAKO,IAAKL,GACRF,wBAAClB,GAAcoB,KAAMA,GACnBF,wBAACG,GACCK,SAAUzB,IAAgBmB,EAC1BO,QAAS,OACTvB,KAAMwB,OAAOR,QAMtBH,GACCC,wBAAClB,GAAcoB,KAAMnB,EAAc,GACjCiB,+BAAKhB,UAAU,mCACbgB,wBAACG,GAAcC,KAAMJ,wBAACW,aAK9BX,wBAACY,GAAUC,MAAoB,IAAb5B,GAA2B,KAATC,GAClCc,+BAAKhB,UAAU,uBACbgB,wBAACc,GAAW9B,UAAU,4BACnBC,MAAWC"}